{
  "name": "app",
  "description": "",
  "json_class": "Chef::Role",
  "chef_type": "role",

  "run_list": [
    "recipe[company::ruby_dependencies]",
    "recipe[ruby_build]",
    "recipe[company::app_user]",
    "recipe[rbenv::user]",
    "recipe[company::ruby]",
    "recipe[company::app_packages]",
    "recipe[company::github]"
  ],

  "override_attributes": {
    "ssh_keys": {
      "app": "dkastner"
    },

    "postgresql": {
      "password": {
        "postgres": "postgres",
        "app": "app"
      }
    },

    "authorization": {
      "sudo": {
        "groups": ["admin", "sysadmin"],
        "users": ["app","ubuntu"],
        "passwordless": "true"
      }
    },

    "rbenv" : {
      "rubies": ["1.9.3-p362"],
      "user_installs": [
        {
          "user": "app",
          "home": "/home/app",
          "rubies" : ["1.9.3-p362"],
          "user_rubies" : "1.9.3-p362",
          "global" : "1.9.3-p362",
          "gems": {
            "1.9.3-p362": [
              { "name": "bundler" }
            ]
          }
        }
      ]
    }
  }
}
