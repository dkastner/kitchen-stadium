{
  "name": "worker",
  "description": "Stuff needed for a worker (importer, etc) to run",
  "json_class": "Chef::Role",
  "chef_type": "role",

  "run_list": [
    "recipe[company::github]",
    "recipe[company::ruby_app]",
    "recipe[company::app_app]",
    "recipe[ruby_build]",
    "recipe[rbenv::user]"
  ],

  "override_attributes": {
    "authorization": {
      "sudo": {
        "groups": ["admin", "sysadmin"],
        "users": ["ubuntu"],
        "passwordless": "true"
      }
    },

    "rbenv" : {
      "rubies": ["1.9.3-p448"],
      "user_installs": [
        {
          "user": "ubuntu",
          "home": "/home/ubuntu",
          "rubies" : ["1.9.3-p448"],
          "user_rubies" : "1.9.3-p448",
          "global" : "1.9.3-p448",
          "gems": {
            "1.9.3-p448": [
              { "name": "bundler" }
            ]
          }
        }
      ]
    },

    "ruby_build": {
      "git_ref": "v20130806"
    }
  }
}
